{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-video.js"],"sourcesContent":["import Vimeo from '@vimeo/player';\nimport throttle from 'lodash.throttle';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const player = new Vimeo('vimeo-player');\n  const storageKey = 'videoplayer-current-time';\n  let playbackStarted = false;\n\n  const saveCurentTime = throttle(function () {\n    player.getCurrentTime().then(function (currentTime) {\n      localStorage.setItem(storageKey, currentTime);\n    });\n  }, 1000);\n\n  player.on('timeupdate', saveCurentTime);\n\n  const savedTime = localStorage.getItem(storageKey);\n\n  if (savedTime) {\n    player.setCurrentTime(savedTime);\n  }\n\n  const playButton = document.getElementById('playButton');\n  if (playButton) {\n    playButton.addEventListener('click', function () {\n      if (!playbackStarted) {\n        player.play();\n        playbackStarted = true;\n      }\n    });\n  }\n});\n"],"names":["player","Vimeo","storageKey","playbackStarted","saveCurentTime","throttle","currentTime","savedTime","playButton"],"mappings":"+IAGA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMA,EAAS,IAAIC,EAAM,cAAc,EACjCC,EAAa,2BACnB,IAAIC,EAAkB,GAEtB,MAAMC,EAAiBC,EAAS,UAAY,CAC1CL,EAAO,eAAc,EAAG,KAAK,SAAUM,EAAa,CAClD,aAAa,QAAQJ,EAAYI,CAAW,CAClD,CAAK,CACF,EAAE,GAAI,EAEPN,EAAO,GAAG,aAAcI,CAAc,EAEtC,MAAMG,EAAY,aAAa,QAAQL,CAAU,EAE7CK,GACFP,EAAO,eAAeO,CAAS,EAGjC,MAAMC,EAAa,SAAS,eAAe,YAAY,EACnDA,GACFA,EAAW,iBAAiB,QAAS,UAAY,CAC1CL,IACHH,EAAO,KAAI,EACXG,EAAkB,GAE1B,CAAK,CAEL,CAAC"}